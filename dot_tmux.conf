unbind r
bind r source-file ~/.tmux.conf

set -g default-terminal "screen-256color"

set -g prefix C-s

#set -g mouse on

#bind-key h select-pane -L
#bind-key j select-pane -D
#bind-key k select-pane -U
#bind-key l select-pane -R

set-option -g status-position top

# prefix - åœ¨ window å·¦å´é–‹å•Ÿæ°´å¹³çš„åˆ†å‰²è¦–çª— / prefix - | åœ¨ window çš„ä¸‹æ–¹é–‹å•Ÿå‚ç›´çš„åˆ†å‰²è¦–çª—
#  - å¾Œé¢çš„ -v -c '${path_current_path}' æœƒè®“åˆ†å‰²çš„è¦–çª—è‡ªå‹•å®šä½åœ¨ç›®å‰ path
bind-key - split-window -v -c '#{pane_current_path}'
bind-key | split-window -h -c '#{pane_current_path}'

# prefix c ç›´æ¥æ–°å¢æ–°çš„ window
#  - å¾Œé¢çš„ -c "${pane_current_path}" è®“æ–°å¢çš„è¦–çª—è‡ªå‹•å®šä½ç›®å‰çš„ path
bind c new-window -c "#{pane_current_path}"
# prefix b è®“ç•¶å‰åˆ†å‰²çš„ pane è®Šæˆç¨ç«‹çš„ window
bind-key b break-pane -d

# prefix j é–‹å•Ÿ choose-tree 
#  - é€é j k + enter é¸æ“‡è¦è·³åˆ°å“ªå€‹ session
# æ³¨æ„ï¼š è¦å•Ÿå‹• tmux çš„ç‹€æ…‹ä¸‹æ‰å¯ä»¥ä½¿ç”¨ï¼Œå¦‚æœæŠŠ tmux å£“åˆ°èƒŒæ™¯ï¼ˆdetachï¼‰ï¼ˆprefix dï¼‰æ˜¯å«ä¸å‡ºä¾†çš„
bind-key j choose-tree -swZ

# Fine adjustment (1 or 2 cursor cells per bump)
# èª¿æ•´åˆ†å‰²è¦–çª—çš„å¤§å° 
# shift + æ–¹å‘éµ
bind -n S-Left resize-pane -L 2
bind -n S-Right resize-pane -R 2
bind -n S-Down resize-pane -D 1
bind -n S-Up resize-pane -U 1

# control k æ¸…ç† terminal ç•«é¢
# ä¸èƒ½ç”¨ä¸€èˆ¬çš„ command kï¼Œå› ç‚º Tmux ä¹Ÿæœƒè¢«æ´—æ‰ï¼ˆå¤–åŠ åŒå€‹ window çš„ pane éƒ½æœƒè¢«æ´—æ‰ï¼‰
#bind -n C-k send-keys -R \; send-keys C-l \; clear-history
bind C-l send-keys 'C-l'

# è®“ copy mode æ™‚å¯ä»¥åƒ vim ä¸€æ¨£åœ°ç§»å‹•
setw -g mode-keys vi
set-option -s set-clipboard off
bind P paste-buffer
bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi y send-keys -X rectangle-toggle
unbind -T copy-mode-vi Enter
bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel 'xclip -se c -i'
bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel 'xclip -se c -i'

# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'catppuccin/tmux'
set -g @plugin 'christoomey/vim-tmux-navigator'
set -g @plugin 'tmux-plugins/tmux-prefix-highlight'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'tmux-plugins/tmux-copycat'

# Catppuccino theme
set -g @catppuccin_window_left_separator "î‚¶"
set -g @catppuccin_window_right_separator "î‚´Â "
set -g @catppuccin_window_middle_separator " â–ˆ"
set -g @catppuccin_window_number_position "right"

set -g @catppuccin_window_default_fill "number"
set -g @catppuccin_window_default_text "#W"

set -g @catppuccin_window_current_fill "number"
set -g @catppuccin_window_current_text "#W"

# é è¨­æƒ…æ³ä¸‹çš„ç‹€æ…‹æ¬„æ¨¡å¡Š
set -g @catppuccin_status_modules_right "host directory session"
set -g @catppuccin_status_left_separator  " î‚¶â–ˆ"
set -g @catppuccin_status_right_separator "î‚´"
set -g @catppuccin_status_right_separator_inverse "no"
set -g @catppuccin_status_fill "icon"
set -g @catppuccin_status_connect_separator "no"

set -g @catppuccin_directory_text "#{pane_current_path}"

# æŒ‰ä¸‹ prefix-key å¾Œçš„ç‹€æ…‹æ¬„ Modules
set -g @catppuccin_host_text "#{prefix_highlight}"
set -g @catppuccin_host_icon "ğŸˆâ€â¬› à¾€à½²"
set -g @prefix_highlight_fg 'white' # default is 'colour231'
set -g @prefix_highlight_bg 'blue'  # default is 'colour04'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'

#set -g status-right ' #{?client_prefix,#[reverse]<Prefix>#[noreverse] ,}"#{=21:pane_title}" %H:%M %d-%b-%y'
